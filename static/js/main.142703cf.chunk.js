(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e,t,a){e.exports=a.p+"static/media/char.9b487253.svg"},19:function(e,t,a){e.exports=a.p+"static/media/bmark.b4604bc2.svg"},23:function(e,t,a){e.exports=a(39)},32:function(e,t,a){},39:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(17),c=a.n(o),l=a(41),s=(a(32),a(10)),i=a(5),u=a(6),m=a(8),d=a(7),h=a(9),f=a(42),v="https://reactnd-books-api.udacity.com",y=localStorage.token;y||(y=localStorage.token=Math.random().toString(36).substr(-8));var E={Accept:"application/json",Authorization:y},g=function(e){return fetch("".concat(v,"/search"),{method:"POST",headers:Object(s.a)({},E,{"Content-Type":"application/json"}),body:JSON.stringify({query:e})}).then(function(e){return e.json()}).then(function(e){return e.books})},p=a(40),k=a(18),b=a.n(k),R=a(19),N=a.n(R);var C=function(e){return r.a.createElement("header",null,r.a.createElement("div",{id:"hero"},r.a.createElement("div",{className:"char"},r.a.createElement("img",{src:b.a,alt:"Hello"})),r.a.createElement("div",{className:"logo"},r.a.createElement("p",{className:"titleOne"},"My"),r.a.createElement("p",{className:"titleTwo"},"Reads")),r.a.createElement("div",{className:"mark"},r.a.createElement(p.a,{to:"/Udacity-FrontEnd-P04-MyReads/search"},r.a.createElement("img",{src:N.a,alt:"Add Books"})))),r.a.createElement(p.a,{to:"/Udacity-FrontEnd-P04-MyReads/search",className:"add"},"Add Books"))},S=a(20),w=a.n(S);var A=function(e){return r.a.createElement("div",{id:"".concat(e.item.id,"_rating"),className:"rating"},e.item.stars>4?r.a.createElement("span",{className:"ratingFive active",onClick:function(){return e.addStar(5,e.item)}},"\u2605"):r.a.createElement("span",{className:"ratingFive",onClick:function(){return e.addStar(5,e.item)}},"\u2605"),e.item.stars>3?r.a.createElement("span",{className:"ratingFour active",onClick:function(){return e.addStar(4,e.item)}},"\u2605"):r.a.createElement("span",{className:"ratingFour",onClick:function(){return e.addStar(4,e.item)}},"\u2605"),e.item.stars>2?r.a.createElement("span",{className:"ratingThree active",onClick:function(){return e.addStar(3,e.item)}},"\u2605"):r.a.createElement("span",{className:"ratingThree",onClick:function(){return e.addStar(3,e.item)}},"\u2605"),e.item.stars>1?r.a.createElement("span",{className:"ratingTwo active",onClick:function(){return e.addStar(2,e.item)}},"\u2605"):r.a.createElement("span",{className:"ratingTwo",onClick:function(){return e.addStar(2,e.item)}},"\u2605"),e.item.stars>0?r.a.createElement("span",{className:"ratingOne active",onClick:function(){return e.addStar(1,e.item)}},"\u2605"):r.a.createElement("span",{className:"ratingOne",onClick:function(){return e.addStar(1,e.item)}},"\u2605"))};var B=function(e){var t=e.item,a=e.moveTo,n=e.clear;return r.a.createElement("div",{id:"".concat(t.id,"_overlay"),className:"bookOverlay"},r.a.createElement("button",{className:"changerOver",onClick:function(){return n()}}),r.a.createElement("h3",null,"Move to:"),"currentlyReading"===t.shelf&&r.a.createElement("div",{className:"buttons"},r.a.createElement("button",{className:"shelfButton",onClick:function(){return a("wantToRead",t)}},"Want to read"),r.a.createElement("button",{className:"shelfButton",onClick:function(){return a("read",t)}},"Read"),r.a.createElement("button",{className:"shelfButton",onClick:function(){return a("none",t)}},"Remove")),"wantToRead"===t.shelf&&r.a.createElement("div",{className:"buttons"},r.a.createElement("button",{className:"shelfButton",onClick:function(){return a("currentlyReading",t)}},"Reading"),r.a.createElement("button",{className:"shelfButton",onClick:function(){return a("read",t)}},"Read"),r.a.createElement("button",{className:"shelfButton",onClick:function(){return a("none",t)}},"Remove")),"read"===t.shelf&&r.a.createElement("div",{className:"buttons"},r.a.createElement("button",{className:"shelfButton",onClick:function(){return a("currentlyReading",t)}},"Reading"),r.a.createElement("button",{className:"shelfButton",onClick:function(){return a("wantToRead",t)}},"Want to read"),r.a.createElement("button",{className:"shelfButton",onClick:function(){return a("none",t)}},"Remove")),"none"===t.shelf&&r.a.createElement("div",{className:"buttons"},r.a.createElement("button",{className:"shelfButton",onClick:function(){return a("currentlyReading",t)}},"Reading"),r.a.createElement("button",{className:"shelfButton",onClick:function(){return a("wantToRead",t)}},"Want to read"),r.a.createElement("button",{className:"shelfButton",onClick:function(){return a("read",t)}},"Read")))},O=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"currentShelf",value:function(e){var t;switch(e){case"currentlyReading":t="Reading";break;case"wantToRead":t="Want To Read";break;default:t="Read"}return t}},{key:"render",value:function(){var e=this,t=this.props,a=t.myReads,n=t.moveTo,o=t.shelf,c=t.overlayMenu,l=t.clear;return a.filter(function(e){return e.shelf!==o}).map(function(t,a){return r.a.createElement("li",{key:a,className:"".concat(t.id," onShelf")},void 0===t.imageLinks?r.a.createElement("div",{className:"bookImage noCover"},"NO COVER"):r.a.createElement("img",{src:t.imageLinks.thumbnail,alt:t.title,className:"bookImage"}),r.a.createElement("div",null,r.a.createElement("span",{className:"bookTitle"},t.title),void 0===t.authors?r.a.createElement("span",null,"----------"):r.a.createElement("span",null,t.authors),r.a.createElement("span",null,"Published: ",t.publishedDate),r.a.createElement("span",null,"Pages: ",t.pageCount),r.a.createElement("span",null,"Rating: ",t.stars," stars"),r.a.createElement("span",{className:"onShelfLine"},'Currently on the "',e.currentShelf(t.shelf),'" shelf')),r.a.createElement("button",{className:"changer",onClick:function(){return c("".concat(t.id,"_overlay"),t.shelf)}}),r.a.createElement(B,{item:t,moveTo:n,overlayMenu:c,clear:l}))})}}]),t}(n.Component),T=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).clear=function(){document.querySelectorAll(".bookOverlay").forEach(function(e){return e.style.display="none"})},a.overlayMenu=function(e,t){a.clear(),document.getElementById(e).style.display="grid"},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.myReads,n=t.shelf,o=t.moveTo,c=t.addStar;return a.sort(w()("title")),r.a.createElement("ul",{className:"book"},r.a.createElement(f.a,{exact:!0,path:"/Udacity-FrontEnd-P04-MyReads/search",render:function(){return r.a.createElement(O,{myReads:a,shelf:n,moveTo:o,overlayMenu:e.overlayMenu,clear:e.clear})}}),a.filter(function(e){return e.shelf===n}).map(function(t,a){return r.a.createElement("li",{key:a,className:t.id},void 0===t.imageLinks?r.a.createElement("div",{className:"bookImage noCover"},"NO COVER"):r.a.createElement("img",{src:t.imageLinks.thumbnail,alt:t.title,className:"bookImage"}),r.a.createElement("div",null,r.a.createElement("span",{className:"bookTitle"},t.title),void 0===t.authors?r.a.createElement("span",null,"----------"):r.a.createElement("span",null,t.authors),r.a.createElement("span",null,"Published: ",t.publishedDate),r.a.createElement("span",null,"Pages: ",t.pageCount),r.a.createElement(f.a,{exact:!0,path:"/Udacity-FrontEnd-P04-MyReads/",render:function(){return r.a.createElement(A,{item:t,addStar:c})}})),r.a.createElement("button",{className:"changer",onClick:function(){return e.overlayMenu("".concat(t.id,"_overlay"),n)}}),r.a.createElement(B,{item:t,moveTo:o,overlayMenu:e.overlayMenu,clear:e.clear}))}))}}]),t}(n.Component);var j=function(e){var t=e.myReads,a=e.moveTo,n=e.addStar;return r.a.createElement("main",null,r.a.createElement("section",{id:"currentlyReading"},r.a.createElement("h2",null,"Reading..."),r.a.createElement(T,{myReads:t,shelf:"currentlyReading",moveTo:a,addStar:n})),r.a.createElement("section",{id:"wantToRead"},r.a.createElement("h2",null,"Want to read!"),r.a.createElement(T,{myReads:t,shelf:"wantToRead",moveTo:a,addStar:n})),r.a.createElement("section",{id:"read"},r.a.createElement("h2",null,"Read."),r.a.createElement(T,{myReads:t,shelf:"read",moveTo:a,addStar:n})))};var M=function(e){return r.a.createElement("header",{className:"headerAddBooks"},r.a.createElement("div",{id:"heroAddBooks"},r.a.createElement(p.a,{to:"/Udacity-FrontEnd-P04-MyReads/",className:"back"},"Back"),r.a.createElement("p",{className:"titleThree"},"add Books")))},F=a(22),P=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={query:"",searchResults:[],invalid:!1},a.updateQuery=Object(F.debounce)(function(e){var t=e.trim().replace(/\s+/g," ");a.setState({query:t}),t.length?g(t).then(function(e){var t=[];return e.map(function(e){var n=Object(s.a)({},e,{stars:0});n.shelf="none";var r=a.props.myReads.find(function(e){return e.id===n.id});return r?t.push(r):t.push(n)}),t}).then(function(e){a.setState({searchResults:e,invalid:!1})}).catch(function(e){console.log(e),a.setState({searchResults:[],invalid:!0})}):(console.log("Empty"),a.setState({searchResults:[],invalid:!1}))},500),a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("main",null,r.a.createElement("section",{id:"search"},r.a.createElement("input",{type:"text",placeholder:"search for new books!",className:"search",onChange:function(t){return e.updateQuery(t.target.value)}})),r.a.createElement("section",{id:"addBooks"},r.a.createElement("h2",null,"searching for... ' ",this.state.query," '"),this.state.searchResults.length>0&&r.a.createElement("div",{className:"searchResults"},r.a.createElement("p",null,"Found ",this.state.searchResults.length," results")),!0===this.state.invalid&&r.a.createElement("div",{className:"searchResults"},r.a.createElement("p",null,"We didnt find anything..."),r.a.createElement("p",{className:"searchTerms"},r.a.createElement("strong",null,"Available search terms:")," 'Android', 'Art', 'Artificial Intelligence', 'Astronomy', 'Austen', 'Baseball', 'Basketball', 'Bhagat', 'Biography', 'Brief', 'Business', 'Camus', 'Cervantes', 'Christie', 'Classics', 'Comics', 'Cook', 'Cricket', 'Cycling', 'Desai', 'Design', 'Development', 'Digital Marketing', 'Drama', 'Drawing', 'Dumas', 'Education', 'Everything', 'Fantasy', 'Film', 'Finance', 'First', 'Fitness', 'Football', 'Future', 'Games', 'Gandhi', 'Homer', 'Horror', 'Hugo', 'Ibsen', 'Journey', 'Kafka', 'King', 'Lahiri', 'Larsson', 'Learn', 'Literary Fiction', 'Make', 'Manage', 'Marquez', 'Money', 'Mystery', 'Negotiate', 'Painting', 'Philosophy', 'Photography', 'Poetry', 'Production', 'Programming', 'React', 'Redux', 'River', 'Robotics', 'Rowling', 'Satire', 'Science Fiction', 'Shakespeare', 'Singh', 'Swimming', 'Tale', 'Thrun', 'Time', 'Tolstoy', 'Travel', 'Ultimate', 'Virtual Reality', 'Web Development', 'iOS'")),r.a.createElement(T,{myReads:this.state.searchResults,shelf:"none",moveTo:this.props.moveTo})))}}]),t}(n.Component);var U=function(){return r.a.createElement("footer",null,r.a.createElement("p",null,"Udacity My Reads Project - ",r.a.createElement("a",{href:"https://github.com/dekisr",target:"_blank",rel:"noopener noreferrer"},"github")))};var D=function(e){return r.a.createElement("div",{className:"loading"},r.a.createElement("div",{className:"lds-ripple"},r.a.createElement("div",null),r.a.createElement("div",null)))},J=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={myReads:[],loading:!1},a.rating=function(e,t){var n=Object(s.a)({},t,{stars:e}),r=a.state.myReads.filter(function(e){return e.id!==n.id});r.push(n),a.setState({myReads:r})},a.move=function(e,t){document.querySelectorAll(".bookOverlay").forEach(function(e){return e.style.display="none"});var n=t;n.shelf=e;var r=a.state.myReads.filter(function(e){return e.id!==n.id});"none"!==e&&r.push(n),a.setState({myReads:r})},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){localStorage.getItem("myReadsLocal")?this.setState({myReads:JSON.parse(localStorage.getItem("myReadsLocal")),loading:!0}):this.myBooks()}},{key:"componentDidUpdate",value:function(e){this.state.myReads!==e.myReads&&localStorage.setItem("myReadsLocal",JSON.stringify(this.state.myReads))}},{key:"myBooks",value:function(){this.fetchBooks(["3_PhCwAAQBAJ","piwP9HXtpvUC","QlduAgAAQBAJ","MjhaAAAAMAAJ"],"wantToRead"),this.fetchBooks(["mDzDBQAAQBAJ","_hIWb6Z8mX0C","luD1Bpc1fmsC"],"currentlyReading"),this.fetchBooks(["BjDuAAAAMAAJ","JvOTGx2S6UgC","pqHfBQAAQBAJ","ZTOtnZg_j3gC","a_fSBAAAQBAJ"],"read")}},{key:"fetchBooks",value:function(e,t){var a=this;e.map(function(e){return(n=e,fetch("".concat(v,"/books/").concat(n),{headers:E}).then(function(e){return e.json()}).then(function(e){return e})).then(function(e){return Object(s.a)({},e.book,{stars:0})}).then(function(e){var a=[];return e.shelf=t,a.push(e),a}).then(function(e){a.setState(function(t){return{myReads:t.myReads.concat(e),loading:!0}})});var n})}},{key:"render",value:function(){var e=this;return!1===this.state.loading?r.a.createElement(D,null):r.a.createElement("div",{id:"myReads"},r.a.createElement(f.a,{exact:!0,path:"/Udacity-FrontEnd-P04-MyReads/",render:function(){return r.a.createElement(C,null)}}),r.a.createElement(f.a,{exact:!0,path:"/Udacity-FrontEnd-P04-MyReads/",render:function(){return r.a.createElement(j,{myReads:e.state.myReads,moveTo:e.move,addStar:e.rating})}}),r.a.createElement(f.a,{path:"/Udacity-FrontEnd-P04-MyReads/search",render:function(){return r.a.createElement(M,null)}}),r.a.createElement(f.a,{path:"/Udacity-FrontEnd-P04-MyReads/search",render:function(){return r.a.createElement(P,{myReads:e.state.myReads,moveTo:e.move})}}),r.a.createElement(U,null))}}]),t}(n.Component),L=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function W(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}c.a.render(r.a.createElement(l.a,null,r.a.createElement(J,null)),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/Udacity-FrontEnd-P04-MyReads",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/Udacity-FrontEnd-P04-MyReads","/service-worker.js");L?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):W(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):W(e)})}}()}},[[23,1,2]]]);
//# sourceMappingURL=main.142703cf.chunk.js.map
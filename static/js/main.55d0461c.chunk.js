(this.webpackJsonpmyreads=this.webpackJsonpmyreads||[]).push([[0],{21:function(e,t,a){e.exports=a.p+"static/media/char.9b487253.svg"},22:function(e,t,a){e.exports=a.p+"static/media/bmark.b4604bc2.svg"},26:function(e,t,a){e.exports=a(38)},31:function(e,t,a){},38:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(20),c=a.n(o),l=a(7),s=(a(31),a(5)),i=a(8),u=a(9),m=a(11),d=a(10),h=a(1),f="https://reactnd-books-api.udacity.com",v=localStorage.token;v||(v=localStorage.token=Math.random().toString(36).substr(-8));var y={Accept:"application/json",Authorization:v},E=function(e){return fetch("".concat(f,"/search"),{method:"POST",headers:Object(s.a)(Object(s.a)({},y),{},{"Content-Type":"application/json"}),body:JSON.stringify({query:e})}).then((function(e){return e.json()})).then((function(e){return e.books}))},g=a(21),p=a.n(g),b=a(22),k=a.n(b);var R=function(e){return r.a.createElement("header",null,r.a.createElement("div",{id:"hero"},r.a.createElement("div",{className:"char"},r.a.createElement("img",{src:p.a,alt:"Hello"})),r.a.createElement("div",{className:"logo"},r.a.createElement("p",{className:"titleOne"},"My"),r.a.createElement("p",{className:"titleTwo"},"Reads")),r.a.createElement("div",{className:"mark"},r.a.createElement(l.b,{to:"/Udacity-FrontEnd-P04-MyReads/search"},r.a.createElement("img",{src:k.a,alt:"Add Books"})))),r.a.createElement(l.b,{to:"/Udacity-FrontEnd-P04-MyReads/search",className:"add"},"Add Books"))},N=a(24),C=a.n(N);var S=function(e){return r.a.createElement("div",{id:"".concat(e.item.id,"_rating"),className:"rating"},e.item.stars>4?r.a.createElement("span",{className:"ratingFive active",onClick:function(){return e.addStar(5,e.item)}},"\u2605"):r.a.createElement("span",{className:"ratingFive",onClick:function(){return e.addStar(5,e.item)}},"\u2605"),e.item.stars>3?r.a.createElement("span",{className:"ratingFour active",onClick:function(){return e.addStar(4,e.item)}},"\u2605"):r.a.createElement("span",{className:"ratingFour",onClick:function(){return e.addStar(4,e.item)}},"\u2605"),e.item.stars>2?r.a.createElement("span",{className:"ratingThree active",onClick:function(){return e.addStar(3,e.item)}},"\u2605"):r.a.createElement("span",{className:"ratingThree",onClick:function(){return e.addStar(3,e.item)}},"\u2605"),e.item.stars>1?r.a.createElement("span",{className:"ratingTwo active",onClick:function(){return e.addStar(2,e.item)}},"\u2605"):r.a.createElement("span",{className:"ratingTwo",onClick:function(){return e.addStar(2,e.item)}},"\u2605"),e.item.stars>0?r.a.createElement("span",{className:"ratingOne active",onClick:function(){return e.addStar(1,e.item)}},"\u2605"):r.a.createElement("span",{className:"ratingOne",onClick:function(){return e.addStar(1,e.item)}},"\u2605"))};var A=function(e){var t=e.item,a=e.moveTo,n=e.clear;return r.a.createElement("div",{id:"".concat(t.id,"_overlay"),className:"bookOverlay"},r.a.createElement("button",{className:"changerOver",onClick:function(){return n()}}),r.a.createElement("h3",null,"Move to:"),"currentlyReading"===t.shelf&&r.a.createElement("div",{className:"buttons"},r.a.createElement("button",{className:"shelfButton",onClick:function(){return a("wantToRead",t)}},"Want to read"),r.a.createElement("button",{className:"shelfButton",onClick:function(){return a("read",t)}},"Read"),r.a.createElement("button",{className:"shelfButton",onClick:function(){return a("none",t)}},"Remove")),"wantToRead"===t.shelf&&r.a.createElement("div",{className:"buttons"},r.a.createElement("button",{className:"shelfButton",onClick:function(){return a("currentlyReading",t)}},"Reading"),r.a.createElement("button",{className:"shelfButton",onClick:function(){return a("read",t)}},"Read"),r.a.createElement("button",{className:"shelfButton",onClick:function(){return a("none",t)}},"Remove")),"read"===t.shelf&&r.a.createElement("div",{className:"buttons"},r.a.createElement("button",{className:"shelfButton",onClick:function(){return a("currentlyReading",t)}},"Reading"),r.a.createElement("button",{className:"shelfButton",onClick:function(){return a("wantToRead",t)}},"Want to read"),r.a.createElement("button",{className:"shelfButton",onClick:function(){return a("none",t)}},"Remove")),"none"===t.shelf&&r.a.createElement("div",{className:"buttons"},r.a.createElement("button",{className:"shelfButton",onClick:function(){return a("currentlyReading",t)}},"Reading"),r.a.createElement("button",{className:"shelfButton",onClick:function(){return a("wantToRead",t)}},"Want to read"),r.a.createElement("button",{className:"shelfButton",onClick:function(){return a("read",t)}},"Read")))},B=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"currentShelf",value:function(e){var t;switch(e){case"currentlyReading":t="Reading";break;case"wantToRead":t="Want To Read";break;default:t="Read"}return t}},{key:"render",value:function(){var e=this,t=this.props,a=t.myReads,n=t.moveTo,o=t.shelf,c=t.overlayMenu,l=t.clear;return a.filter((function(e){return e.shelf!==o})).map((function(t,a){return r.a.createElement("li",{key:a,className:"".concat(t.id," onShelf")},void 0===t.imageLinks?r.a.createElement("div",{className:"bookImage noCover"},"NO COVER"):r.a.createElement("img",{src:t.imageLinks.thumbnail,alt:t.title,className:"bookImage"}),r.a.createElement("div",null,r.a.createElement("span",{className:"bookTitle"},t.title),void 0===t.authors?r.a.createElement("span",null,"----------"):r.a.createElement("span",null,t.authors),r.a.createElement("span",null,"Published: ",t.publishedDate),r.a.createElement("span",null,"Pages: ",t.pageCount),r.a.createElement("span",null,"Rating: ",t.stars," stars"),r.a.createElement("span",{className:"onShelfLine"},'Currently on the "',e.currentShelf(t.shelf),'" shelf')),r.a.createElement("button",{className:"changer",onClick:function(){return c("".concat(t.id,"_overlay"),t.shelf)}}),r.a.createElement(A,{item:t,moveTo:n,overlayMenu:c,clear:l}))}))}}]),a}(n.Component),O=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).clear=function(){document.querySelectorAll(".bookOverlay").forEach((function(e){return e.style.display="none"}))},e.overlayMenu=function(t,a){e.clear(),document.getElementById(t).style.display="grid"},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.myReads,n=t.shelf,o=t.moveTo,c=t.addStar;return a.sort(C()("title")),r.a.createElement("ul",{className:"book"},r.a.createElement(h.a,{exact:!0,path:"/Udacity-FrontEnd-P04-MyReads/search",render:function(){return r.a.createElement(B,{myReads:a,shelf:n,moveTo:o,overlayMenu:e.overlayMenu,clear:e.clear})}}),a.filter((function(e){return e.shelf===n})).map((function(t,a){return r.a.createElement("li",{key:a,className:t.id},void 0===t.imageLinks?r.a.createElement("div",{className:"bookImage noCover"},"NO COVER"):r.a.createElement("img",{src:t.imageLinks.thumbnail,alt:t.title,className:"bookImage"}),r.a.createElement("div",null,r.a.createElement("span",{className:"bookTitle"},t.title),void 0===t.authors?r.a.createElement("span",null,"----------"):r.a.createElement("span",null,t.authors),r.a.createElement("span",null,"Published: ",t.publishedDate),r.a.createElement("span",null,"Pages: ",t.pageCount),r.a.createElement(h.a,{exact:!0,path:"/Udacity-FrontEnd-P04-MyReads/",render:function(){return r.a.createElement(S,{item:t,addStar:c})}})),r.a.createElement("button",{className:"changer",onClick:function(){return e.overlayMenu("".concat(t.id,"_overlay"),n)}}),r.a.createElement(A,{item:t,moveTo:o,overlayMenu:e.overlayMenu,clear:e.clear}))})))}}]),a}(n.Component);var w=function(e){var t=e.myReads,a=e.moveTo,n=e.addStar;return r.a.createElement("main",null,r.a.createElement("section",{id:"currentlyReading"},r.a.createElement("h2",null,"Reading..."),r.a.createElement(O,{myReads:t,shelf:"currentlyReading",moveTo:a,addStar:n})),r.a.createElement("section",{id:"wantToRead"},r.a.createElement("h2",null,"Want to read!"),r.a.createElement(O,{myReads:t,shelf:"wantToRead",moveTo:a,addStar:n})),r.a.createElement("section",{id:"read"},r.a.createElement("h2",null,"Read."),r.a.createElement(O,{myReads:t,shelf:"read",moveTo:a,addStar:n})))};var T=function(e){return r.a.createElement("header",{className:"headerAddBooks"},r.a.createElement("div",{id:"heroAddBooks"},r.a.createElement(l.b,{to:"/Udacity-FrontEnd-P04-MyReads/",className:"back"},"Back"),r.a.createElement("p",{className:"titleThree"},"add Books")))},j=a(25),M=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={query:"",searchResults:[],invalid:!1},e.updateQuery=Object(j.debounce)((function(t){var a=t.trim().replace(/\s+/g," ");e.setState({query:a}),a.length?E(a).then((function(t){var a=[];return t.map((function(t){var n=Object(s.a)(Object(s.a)({},t),{},{stars:0});n.shelf="none";var r=e.props.myReads.find((function(e){return e.id===n.id}));return r?a.push(r):a.push(n)})),a})).then((function(t){e.setState({searchResults:t,invalid:!1})})).catch((function(t){console.log(t),e.setState({searchResults:[],invalid:!0})})):(console.log("Empty"),e.setState({searchResults:[],invalid:!1}))}),500),e}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("main",null,r.a.createElement("section",{id:"search"},r.a.createElement("input",{type:"text",placeholder:"search for new books!",className:"search",onChange:function(t){return e.updateQuery(t.target.value)}})),r.a.createElement("section",{id:"addBooks"},r.a.createElement("h2",null,"searching for... ' ",this.state.query," '"),this.state.searchResults.length>0&&r.a.createElement("div",{className:"searchResults"},r.a.createElement("p",null,"Found ",this.state.searchResults.length," results")),!0===this.state.invalid&&r.a.createElement("div",{className:"searchResults"},r.a.createElement("p",null,"We didnt find anything..."),r.a.createElement("p",{className:"searchTerms"},r.a.createElement("strong",null,"Available search terms:")," 'Android', 'Art', 'Artificial Intelligence', 'Astronomy', 'Austen', 'Baseball', 'Basketball', 'Bhagat', 'Biography', 'Brief', 'Business', 'Camus', 'Cervantes', 'Christie', 'Classics', 'Comics', 'Cook', 'Cricket', 'Cycling', 'Desai', 'Design', 'Development', 'Digital Marketing', 'Drama', 'Drawing', 'Dumas', 'Education', 'Everything', 'Fantasy', 'Film', 'Finance', 'First', 'Fitness', 'Football', 'Future', 'Games', 'Gandhi', 'Homer', 'Horror', 'Hugo', 'Ibsen', 'Journey', 'Kafka', 'King', 'Lahiri', 'Larsson', 'Learn', 'Literary Fiction', 'Make', 'Manage', 'Marquez', 'Money', 'Mystery', 'Negotiate', 'Painting', 'Philosophy', 'Photography', 'Poetry', 'Production', 'Programming', 'React', 'Redux', 'River', 'Robotics', 'Rowling', 'Satire', 'Science Fiction', 'Shakespeare', 'Singh', 'Swimming', 'Tale', 'Thrun', 'Time', 'Tolstoy', 'Travel', 'Ultimate', 'Virtual Reality', 'Web Development', 'iOS'")),r.a.createElement(O,{myReads:this.state.searchResults,shelf:"none",moveTo:this.props.moveTo})))}}]),a}(n.Component);var F=function(){return r.a.createElement("footer",null,r.a.createElement("p",null,"Udacity My Reads Project - ",r.a.createElement("a",{href:"https://github.com/dekisr",target:"_blank",rel:"noopener noreferrer"},"github")))};var P=function(e){return r.a.createElement("div",{className:"loading"},r.a.createElement("div",{className:"lds-ripple"},r.a.createElement("div",null),r.a.createElement("div",null)))},U=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={myReads:[],loading:!1},e.rating=function(t,a){var n=Object(s.a)(Object(s.a)({},a),{},{stars:t}),r=e.state.myReads.filter((function(e){return e.id!==n.id}));r.push(n),e.setState({myReads:r})},e.move=function(t,a){document.querySelectorAll(".bookOverlay").forEach((function(e){return e.style.display="none"}));var n=a;n.shelf=t;var r=e.state.myReads.filter((function(e){return e.id!==n.id}));"none"!==t&&r.push(n),e.setState({myReads:r})},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){localStorage.getItem("myReadsLocal")?this.setState({myReads:JSON.parse(localStorage.getItem("myReadsLocal")),loading:!0}):this.myBooks()}},{key:"componentDidUpdate",value:function(e){this.state.myReads!==e.myReads&&localStorage.setItem("myReadsLocal",JSON.stringify(this.state.myReads))}},{key:"myBooks",value:function(){this.fetchBooks(["3_PhCwAAQBAJ","piwP9HXtpvUC","QlduAgAAQBAJ","MjhaAAAAMAAJ"],"wantToRead"),this.fetchBooks(["mDzDBQAAQBAJ","_hIWb6Z8mX0C","luD1Bpc1fmsC"],"currentlyReading"),this.fetchBooks(["BjDuAAAAMAAJ","JvOTGx2S6UgC","pqHfBQAAQBAJ","ZTOtnZg_j3gC","a_fSBAAAQBAJ"],"read")}},{key:"fetchBooks",value:function(e,t){var a=this;e.map((function(e){return(n=e,fetch("".concat(f,"/books/").concat(n),{headers:y}).then((function(e){return e.json()})).then((function(e){return e}))).then((function(e){return Object(s.a)(Object(s.a)({},e.book),{},{stars:0})})).then((function(e){var a=[];return e.shelf=t,a.push(e),a})).then((function(e){a.setState((function(t){return{myReads:t.myReads.concat(e),loading:!0}}))}));var n}))}},{key:"render",value:function(){var e=this;return!1===this.state.loading?r.a.createElement(P,null):r.a.createElement("div",{id:"myReads"},r.a.createElement(h.a,{exact:!0,path:"/Udacity-FrontEnd-P04-MyReads/",render:function(){return r.a.createElement(R,null)}}),r.a.createElement(h.a,{exact:!0,path:"/Udacity-FrontEnd-P04-MyReads/",render:function(){return r.a.createElement(w,{myReads:e.state.myReads,moveTo:e.move,addStar:e.rating})}}),r.a.createElement(h.a,{path:"/Udacity-FrontEnd-P04-MyReads/search",render:function(){return r.a.createElement(T,null)}}),r.a.createElement(h.a,{path:"/Udacity-FrontEnd-P04-MyReads/search",render:function(){return r.a.createElement(M,{myReads:e.state.myReads,moveTo:e.move})}}),r.a.createElement(F,null))}}]),a}(n.Component),D=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function J(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}c.a.render(r.a.createElement(l.a,null,r.a.createElement(U,null)),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/Udacity-FrontEnd-P04-MyReads",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/Udacity-FrontEnd-P04-MyReads","/service-worker.js");D?(!function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):J(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):J(e)}))}}()}},[[26,1,2]]]);
//# sourceMappingURL=main.55d0461c.chunk.js.map